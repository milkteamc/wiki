---
// Head.astro
import type { Props } from '@astrojs/starlight/props';

// 獲取頁面資訊
const title = '奶茶伺服器 Wiki';
const description = '奶茶伺服器官方 Wiki：你的 Minecraft 冒險起點，從這裡開始探索、學習與創造。';

// 基礎 URL
const baseUrl = 'https://wiki.milkteamc.org';
const currentUrl = new URL(Astro.url.pathname, baseUrl).href;

// OG 圖片 URL
const ogImage = `${baseUrl}/og-image.png`;

// 從頁面路徑生成更具體的標題
const pageTitle = `${title} | 奶茶伺服器 Wiki`;
---

<!-- 基本 Meta Tags -->
<meta name="description" content={description} />
<meta name="author" content="奶茶伺服器" />

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website" />
<meta property="og:url" content={currentUrl} />
<meta property="og:title" content={pageTitle} />
<meta property="og:description" content={description} />
<meta property="og:image" content={ogImage} />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:site_name" content="奶茶伺服器 Wiki" />
<meta property="og:locale" content="zh_TW" />

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content={pageTitle} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={ogImage} />

<!-- Discord 主題色彩 -->
<meta name="theme-color" content="#8B5CF6" />

<!-- 額外的 Discord 優化 -->
<meta property="discord:card" content="summary" />

<!-- Canonical URL -->
<link rel="canonical" href={currentUrl} />

<!-- 結構化數據 -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "奶茶伺服器 Wiki",
  "description": description,
  "url": baseUrl,
  "author": {
    "@type": "Organization",
    "name": "奶茶伺服器",
    "url": "https://milkteamc.org"
  },
  "publisher": {
    "@type": "Organization",
    "name": "奶茶伺服器",
    "url": "https://milkteamc.org"
  }
})} />

<!-- 預載入重要資源 -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

<!-- DNS 預取 -->
<link rel="dns-prefetch" href="//discord.gg" />
<link rel="dns-prefetch" href="//github.com" />